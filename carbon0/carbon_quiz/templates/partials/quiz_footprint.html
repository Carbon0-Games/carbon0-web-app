<!-- carbon0/carbon_quiz/templates/partials/quiz_footprint.html -->
<style>
    #quiz-footprint-card{
        /*  */
        background-color: rgba(20, 57, 99, 0);
        /* background-color:  #143963; */
        border: 1px solid transparent;
    }
</style>
<div class="card" id="quiz-footprint-card">
    <div class="card-body">
        <h4 class="card-title" style="color:#3FC5F0; font-weight: 500; font-size: x-large">Footprint on this Quiz</h4>
        <!-- <h6 class="card-subtitle mb-2">Based on Questions Answered "No"</h6> -->
        <p class="card-text text-white">{{ quiz.carbon_value_total }} metric tons CO2</p>

        <div id="chartdiv" style="width: 450px; height: 260px;"></div>

        <script type="module">
            import { footprintPlot } from '../../../../static/js/amGuageChart.js';
            footprintPlot({{ quiz.previous_carbon_value }}, {{ quiz.carbon_value_total }})
        </script>

        <!-- Display of gauge Chart -->
        <!-- <canvas id="carbonCalculator" width="700rem" height="560rem"></canvas> -->

        <!-- JS to make the gauge chart -->
        <!-- <script type="module">
            import {carbonCalculator} from '../../../../static/js/carbonCalculator.js';
            $(document).ready(function () {
                // get the data on the carbon footprint from the API
                let endpoint = '/api/quiz-data/{{ quiz.id }}/'
                let plotData = []
                let plotLabels = [];
                $.ajax({
                    method: "GET",
                    url: endpoint,
                    success: function (data) {
                        plotLabels = data.labels
                        console.log(plotLabels)
                        plotData = data.footprint
                        console.log(plotData)
                        carbonCalculator(plotLabels, plotData)
                    },
                    error: function (error_data) {
                        console.log(error_data)
                    }
                })
            })
        </script> -->

    </div>
</div>
